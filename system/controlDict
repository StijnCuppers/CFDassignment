/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v13                                   |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "system";
    object      controlDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

application     rhoPimpleFoam;

startFrom       startTime;
startTime       0.;

stopAt          endTime;
endTime         3; //0.05; //0.015; //3;

deltaT          2e-5;

writeControl    adjustable;

writeintvaral    0.1;
writeInterval   $writeintvaral;

writeFormat     ascii;

writePrecision   8;

writeCompression off;

timeFormat      general;

timePrecision   6;

runTimeModifiable true;


adjustTimeStep  yes;

maxCo           0.5;

// ************************************************************************* //


functions
{
    Co1
    {
    	type		CourantNo;
    	libs		(fieldFunctionObjects);
    	writeControl	adjustableRunTime;
    	writeInterval	$writeintvaral;
    }
    
    forces
    {
        type            forceCoeffs;
        libs            (forces);
        writeControl	adjustableRunTime;
    	writeInterval	$writeintvaral;

        patches
        (
           Airfoil
        );
        p               p;
        U               U;
        rho             rhoInf;
        rhoInf      1;

        CofR        (0.25 0 0);
        liftDir     (0 1 0);//(-0.258819045 0.965925826 0); //(0 1 0); //
        dragDir     (1 0 0);//(0.965925826   0.258819045 0);  // (1 0 0); //
        pitchAxis   (0 0 1);
        magUInf     94.23719186;
        lRef        1.5;
        Aref        1.;
    }

    

    sample
    {
        type            sets;
        libs            (sampling);
        writeControl	adjustableRunTime;
    	writeInterval   $writeintvaral;
        interpolationScheme cellPoint;
        setFormat raw;
    sets
       (

   top
    {
        type    cloud;
        axis    x;
        points   (
        #include "suction_side.dat"
         );
    interpolate true ;
    }
    bottom
    {
        type    cloud;
        axis    x;
        points   (
        #include "pressure_side.dat"
         );
    interpolate true ;
    }
);
fields          ( p pMean);
}

    wallShearStress
    {
        type            wallShearStress;
        libs            (fieldFunctionObjects);
        writeControl	adjustableRunTime;
    	writeInterval	$writeintvaral;
        patches         (Airfoil);
        format          gnuplot;
    }

    yPlus
    {
        type            yPlus;
        libs            (fieldFunctionObjects);
        writeControl	adjustableRunTime;
        writeToFile     true;
    	writeInterval	$writeintvaral;
        writePrecision  8;
        patches         (Airfoil);
        enabled         true;
        log             true;
        executeControl  adjustableRunTime;
    	executeInterval	0.1;
    }

    cellCentres
    {
        type            writeCellCentres;
        libs            (fieldFunctionObjects);
        writeControl	adjustableRunTime;
    	writeInterval	$writeintvaral;
    }

    MachNo
    {
        type            MachNo;
        libs            (fieldFunctionObjects);
        writeControl	adjustableRunTime;
    	writeInterval	$writeintvaral;
    }
}

// ************************************************************************* //